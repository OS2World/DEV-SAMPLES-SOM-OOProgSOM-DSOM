
/*
 *  This file was generated by the SOM Compiler and Emitter Framework.
 *  Generated using: 
 *      SOM Emitter emitxtm: 2.7
 */

#define ErrorExample_Class_Source
#include <error.xih>
#include <stdio.h>

SOM_Scope void  SOMLINK execute(ErrorExample *somSelf,  Environment *ev)
{
    /* ErrorExampleData *somThis = ErrorExampleGetData(somSelf); */
    BadCall *badRc;
    ErrorExampleMethodDebug("ErrorExample","execute");

    // Add method logic

    //************************************************
    // Demonstrate Exception Setting
    //*********************************************** 
    badRc = (BadCall *) SOMMalloc(sizeof(BadCall));
    badRc->errorCode = ErrorExample_INCOMPLETE;
    strcpy(badRc->reason, "Unexpected error");

    somSetException(ev, 
                    USER_EXCEPTION,
                    ex_ErrorExample_BadCall,
                    (void *) badRc);
}

